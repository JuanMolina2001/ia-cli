<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Image</title>
</head>

<body>
    <section class="p-3 justify-center h-screen flex flex-col ">
        <form>
            <h1>
                Upload Image
            </h1>
            <input type="text" placeholder="url">
        </form>
        <input type="file" name="file" id="file" accept="image/*">
    </section>
    <img src="" alt="">
</body>
<script>
    const form = document.querySelector("section")
    function onsubmit(e) {
        e.preventDefault()
        const inp = e.target.querySelector("input")
        const url = inp.value
        try {
            new URL(url)
            console.log("valid url")
        } catch (error) {
            console.log("invalid url")
            inp.value = ""
            inp.style.border = "1px solid red"
            setTimeout(() => {
                inp.style.border = "1px solid white"
            }, 700);
            return
        }
        form.style.display = "none"
        const img = document.querySelector("img")
        img.src = url
    }
    function inpFileChange(e) {
        const file = e.target.files[0]
        const reader = new FileReader(file)
        reader.onload = function (e) {
            form.style.display = "none"
            const img = document.querySelector("img")
            img.src = e.target.result
        }
        reader.readAsDataURL(file)
    }
    document.querySelector("form").addEventListener("submit", onsubmit)
    document.querySelector("#file").addEventListener("change", inpFileChange)
</script>
<script type="module" src="./index.js"></script>

</html>